<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Izin Latihan — PAGARNUSA UNUSIA</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <meta name="theme-color" content="#07693A" />

  <style>
    :root{
      --primary: #07693A;
      --muted: #f4f7f4;
      --accent: rgba(7,105,58,0.08);
      --glass: rgba(255,255,255,0.06);
      --radius: 14px;
    }

    /* Reset & base */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg, #eaf6ed 0%, #ffffff 100%);
      color:#0b2b18;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:12px 16px 40px;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      min-height:100vh;
    }

    /* Container */
    .wrap{
      width:100%;
      max-width:460px;
      margin-top:8px;
    }

    /* Header */
    header{
      display:flex;
      align-items:center;
      gap:12px;
      margin-bottom:14px;
      animation: slideDown 700ms cubic-bezier(.2,.9,.3,1);
    }
    .logo{
      width:64px;
      height:64px;
      display:flex;
      align-items:center;
      justify-content:center;
      background:transparent;
      border:none;
      box-shadow:none;
      border-radius:0;
      animation: float 3s ease-in-out infinite;
    }
    .logo img{
      width:100%;
      height:auto;
      object-fit:contain;
      border:none;
      background:transparent;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.15));
    }

    .title{
      font-size:18px;
      font-weight:700;
      color:var(--primary);
    }

    .subtitle{
      font-size:12px;
      color:#1d4d2f;
      opacity:.9;
      margin-top:4px;
    }

    /* Card */
    .card{
      background: white;
      border-radius:var(--radius);
      padding:18px;
      box-shadow: 0 8px 30px rgba(4,40,20,0.06);
      overflow:hidden;
      position:relative;
      animation: pop 650ms cubic-bezier(.2,.9,.3,1);
    }

    .card:before{
      content:"";
      position:absolute;
      right:-60px;
      top:-40px;
      width:160px;height:160px;
      background: radial-gradient(circle at 30% 30%, rgba(7,105,58,0.12), transparent 30%);
      transform: rotate(20deg);
      pointer-events:none;
    }

    form .row{
      display:flex;
      gap:10px;
      margin-bottom:12px;
    }
    label{
      display:block;
      font-size:12px;
      color:#15522e;
      margin-bottom:6px;
      font-weight:600;
    }
    input[type="text"], select, textarea, input[type="date"]{
      width:100%;
      padding:14px 12px;
      border-radius:12px;
      border:1px solid rgba(7,105,58,0.12);
      outline:none;
      font-size:15px;
      background:linear-gradient(180deg,#ffffff,#fbfffb);
      transition: box-shadow .18s ease, transform .12s ease, border-color .12s ease;
      box-shadow: 0 1px 0 rgba(3,20,10,0.02) inset;
    }
    input:focus, select:focus, textarea:focus{
      box-shadow: 0 6px 22px rgba(7,105,58,0.08);
      border-color: var(--primary);
      transform: translateY(-2px);
    }
    textarea{ min-height:120px; resize:vertical; }

    .small{
      font-size:12px;
      color:#2b6b3d;
      opacity:.85;
      margin-top:6px;
    }

    .actions{display:flex; gap:10px; align-items:center; margin-top:8px}
    .btn{
      flex:1;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:14px;
      border-radius:12px;
      font-weight:700;
      border:none;
      color:white;
      background: linear-gradient(90deg,var(--primary), #0a5230);
      box-shadow: 0 10px 30px rgba(7,105,58,0.18);
      cursor:pointer;
      transition: transform .12s ease, box-shadow .12s ease;
      position:relative;
      overflow:hidden;
    }
    .btn:active{ transform: translateY(2px) }
    .btn .icon{ width:18px; height:18px; opacity:.95 }

    .btn.secondary{
      background: transparent;
      color:var(--primary);
      border:1px solid rgba(7,105,58,0.12);
      box-shadow:none;
      font-weight:600;
    }

    footer{
      margin-top:16px;
      text-align:center;
      color:#0b2b18;
      font-size:13px;
      opacity:.9;
    }

    /* Animations */
    @keyframes float{
      0%{ transform: translateY(-6px) }
      50%{ transform: translateY(6px) }
      100%{ transform: translateY(-6px) }
    }
    @keyframes pop{
      0%{ transform: translateY(10px) scale(.995); opacity:0 }
      100%{ transform: translateY(0) scale(1); opacity:1 }
    }
    @keyframes slideDown{
      0%{ transform: translateY(-6px); opacity:0 }
      100%{ transform: translateY(0); opacity:1 }
    }

    .hint{ font-size:12px; color:#3b7a52; opacity:.9 }

    @media (max-width:480px){
      .wrap{ margin-top:4px; }
      header{ margin-top:0; }
      .logo{ width:52px; height:52px; }
      .title{ font-size:16px; }
      body{ padding:10px 12px 36px; }
    }
  </style>
</head>
<body>
  <div class="wrap" role="main">
    <header>
      <div class="logo">
        <!-- Ganti src di bawah ini dengan file logo Anda -->
        <img src="logopn.png" alt="Logo Pagarnusa">
      </div>
      <div>
        <div class="title">Formulir Izin Latihan</div>
        <div class="subtitle">PAGARNUSA UNUSIA</div>
      </div>
    </header>

    <section class="card" aria-labelledby="form-title">
      <h2 id="form-title" style="margin:0 0 12px 0; font-size:15px; color:var(--primary);">Data Formulir Izin</h2>

      <form id="izinForm" autocomplete="off" onsubmit="return handleSubmit(event)">
        <div class="row" style="flex-direction:column">
          <label for="nama">Nama</label>
          <input id="nama" name="nama" type="text" placeholder="Nama lengkap" required />
        </div>

        <div class="row">
          <div style="flex:1; min-width:120px">
            <label for="angkatan">Angkatan</label>
            <select id="angkatan" name="angkatan" required>
              <option value="" disabled selected>Pilih angkatan</option>
              <option>2023</option>
              <option>2024</option>
              <option>2025</option>
            </select>
          </div>

          <div style="flex:1; min-width:120px">
            <label for="sabuk">Sabuk</label>
            <select id="sabuk" name="sabuk" required>
              <option value="" disabled selected>Pilih sabuk</option>
              <option>Polos</option>
              <option>Putih</option>
              <option>Kuning</option>
              <option>Merah</option>
              <option>Biru</option>
            </select>
          </div>
        </div>

        <div class="row" style="flex-direction:column">
          <label for="perihal">Perihal (alasan)</label>
          <textarea id="perihal" name="perihal" placeholder="Tuliskan alasan tidak hadir..." required></textarea>
        </div>

        <div class="row" style="align-items:center">
          <div style="flex:1">
            <label for="hari">Hari</label>
            <select id="hari" name="hari" required aria-describedby="hariHelp">
              <option value="" disabled selected>Pilih hari</option>
              <option>Selasa</option>
              <option>Sabtu</option>
            </select>
            <div id="hariHelp" class="small">Pilih Hari dan Tanggal</div>
          </div>

          <div style="width:42%; min-width:140px">
            <label for="tanggal">Tanggal</label>
            <input id="tanggal" name="tanggal" type="date" required />
          </div>
        </div>

        <div class="small hint" style="margin-top:6px">
          Periksa kembali sebelum mengirim | Terimakasih
        </div>

        <div class="actions">
          <button type="button" class="btn secondary" onclick="resetForm()">Reset</button>
          <button type="submit" class="btn">Kirim Sekarang</button>
        </div>
      </form>
    </section>

    <footer>
      <div style="margin-top:12px; font-weight:600">Pagarnusa UNUSIA</div>
      <div style="font-size:12px; margin-top:6px; opacity:.8">© Pagarnusa UNUSIA</div>
    </footer>
  </div>

  <script>
    const phoneInternational = '6285715232441';
    const form = document.getElementById('izinForm');
    const tanggalEl = document.getElementById('tanggal');
    const hariEl = document.getElementById('hari');
    const dayNames = ['Minggu','Senin','Selasa','Rabu','Kamis','Jumat','Sabtu'];

    tanggalEl.addEventListener('change', e => {
      const v = e.target.value;
      if(!v) return;
      const d = new Date(v + 'T00:00:00');
      const idx = d.getDay();
      const dayName = dayNames[idx];
      for(const opt of hariEl.options){
        if(opt.value === dayName){ hariEl.value = dayName; break; }
      }
    });

    function resetForm(){
      form.reset();
      hariEl.selectedIndex = 0;
      document.getElementById('angkatan').selectedIndex = 0;
      document.getElementById('sabuk').selectedIndex = 0;
      document.querySelector('.card').style.transform = 'scale(0.995)';
      setTimeout(()=> document.querySelector('.card').style.transform = '', 160);
    }

    function handleSubmit(e){
      e.preventDefault();
      const nama = document.getElementById('nama').value.trim();
      const angkatan = document.getElementById('angkatan').value;
      const sabuk = document.getElementById('sabuk').value;
      const perihal = document.getElementById('perihal').value.trim();
      const hari = document.getElementById('hari').value;
      const tanggal = document.getElementById('tanggal').value;

      if(!nama || !angkatan || !sabuk || !perihal || !hari || !tanggal){
        alert('Mohon lengkapi semua kolom sebelum mengirim.');
        return false;
      }

      const tanggalObj = new Date(tanggal + 'T00:00:00');
      const bulanNames = ['Januari','Februari','Maret','April','Mei','Juni','Juli','Agustus','September','Oktober','November','Desember'];
      const formattedTanggal = tanggalObj.getDate() + ' ' + bulanNames[tanggalObj.getMonth()] + ' ' + tanggalObj.getFullYear();

      let message = '';
      message += 'Assalamualaikum Kang/Mbk%0A';
      message += 'Saya atas nama ' + nama + ', Angkatan ' + angkatan + ', Sabuk ' + sabuk + '.%0A';
      message += 'Saya ingin memohon izin tidak dapat hadir latihan rutin pada hari ' + hari + ', tanggal ' + formattedTanggal + ' dikarenakan ' + perihal + '.%0A';
      message += 'Terima kasih atas perhatiannya!';

      const waUrl = 'https://wa.me/' + phoneInternational + '?text=' + message;
      window.open(waUrl, '_blank') || (window.location.href = waUrl);
      return false;
    }

    (function prefill(){
      const today = new Date();
      const y = today.getFullYear();
      const m = String(today.getMonth()+1).padStart(2,'0');
      const d = String(today.getDate()).padStart(2,'0');
      const iso = y + '-' + m + '-' + d;
      if(!tanggalEl.value) tanggalEl.value = iso;
      const idx = today.getDay();
      const dayName = dayNames[idx];
      for(const opt of hariEl.options){
        if(opt.value === dayName){ hariEl.value = dayName; break; }
      }
    })();
  </script>
</body>
</html>
